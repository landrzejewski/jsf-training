<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/layout.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://xmlns.jcp.org/jsf/core">

  <ui:param name="title" value="Product" />

  <ui:define name="content">
      <h1>Product</h1>
      <h:form>
          <div>
              <h:outputLabel value="Name:" for="name"/>
              <h:inputText id="name" value="#{productForm.product.name}" > <!--required="true">-->
                  <!--<f:validateLength minimum="3" maximum="10"/>
                  <f:validateRegex pattern="[a-z]+"/>-->
                  <f:validateBean validationGroups="pl.training.jsf.view.extensions.Base"/>
              </h:inputText>
              <h:messages for="name" />
          </div>
          <div>
              <h:outputLabel value="Description:" for="description"/>
              <h:inputTextarea id="description" value="#{productForm.product.description}" />
          </div>
          <div>
              <h:selectBooleanCheckbox id="isActive" value="#{productForm.product.active}" /> Is Active
          </div>
          <div>
              <h:outputLabel value="Category:" for="category"/>
              <h:selectOneMenu id="category" value="${productForm.product.category}">
                  <!--<f:selectItem itemLabel="Audio" itemValue="AUDIO"/>
                  <f:selectItem itemLabel="Video" itemValue="VIDEO"/>
                  <f:selectItem itemLabel="Podcast" itemValue="PODCAST"/>-->
                  <f:selectItems itemLabel="#{entry.key}" itemValue="${entry.value}" value="#{productForm.categories()}" var="entry" />
              </h:selectOneMenu>
          </div>
          <div>
              <h:outputLabel value="Quantity:" for="quantity"/>
              <h:inputText id="quantity" value="#{productForm.product.quantity}">
                  <f:validateRequired/>
                  <f:validateLongRange minimum="1"/>
              </h:inputText>
              <h:messages for="quantity" />
          </div>
          <div>
              <h:outputLabel value="Price:" for="price"/>
              <h:inputText id="price" value="#{productForm.product.price}">
                  <!--<f:convertNumber type="currency" locale="pl_PL" />-->
                  <f:converter converterId="pl.training.jsf.view.extensions.FastMoneyConverteras" />
                  <f:validator validatorId="pl.training.jsf.view.extensions.FastMoneyValidator" />
              </h:inputText>
              <h:messages for="price" />
          </div>
          <div>
              <h:outputLabel value="Created:" for="created"/>
              <h:inputText id="created" value="#{productForm.product.created}" >
                  <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
              </h:inputText>
          </div>
          <h:commandButton value="Submit" action="#{productForm.save()}" />
          <h:messages />
      </h:form>
  </ui:define>

</ui:composition>
